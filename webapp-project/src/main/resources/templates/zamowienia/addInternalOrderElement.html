<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
<title>Wprowadzenie zamówienia zewnętrznego</title>
<th:block th:include="fragments/headerinc :: head"></th:block>
</head>
<body>
	<th:block th:include="fragments/navbar :: navbar"></th:block>

	<div class="container" style="margin-top: 50px;">
		<div class="row">
			<div class="col-md-6 col-md-offset-3">
				<div class="panel panel-default">
					<div class="panel-heading">
						<span class="glyphicon glyphicon-plus"></span> Dodaj do zamówienia
					</div>
					<div class="panel-body">
						<form class="form-horizontal" role="form" 
							th:action="@{/zamowienia/dodaj}" method="post">
							
							<h3 th:text="${boardGame.title}"></h3>
							<h3 id="sellPrice" th:text="${boardGame.sellPrice}" th:attr="data-sell-price=${boardGame.sellPrice}"></h3>
							<h3 id="calculatedPrice" th:text="${boardGame.sellPrice}">0</h3>
							
							<input id="boardGameId" name="boardGameId" type="hidden" value="-1" th:value="${boardGame.id}" />
							
							<h2 id="currentQuantityValue">1</h2>
							<input id="quantity" name="quantity" type="range" min="1" value="1" th:attr="max=${boardGame.sellQuantity}" onchange="sliderChanged(this.value);" />
							
							<div class="form-group last">
								<div class="col-sm-offset-3 col-sm-9">
									<button type="submit" class="btn btn-success">Dodaj</button>
									<a href="#" th:href="@{/gry/dostepne/}" class="btn btn-default">Anuluj</a>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<script>
	function sliderChanged(val) {
        $('#currentQuantityValue').text(val);
        var sellPrice = $('#sellPrice').data('sell-price');
        $('#calculatedPrice').text(val*sellPrice);
    }
	</script>

</body>
</html>